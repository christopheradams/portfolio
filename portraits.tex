%!TEX TS-program = xetex
%!TEX encoding = UTF-8 Unicode

\documentclass[a4paper, oneside, openany, 12pt, showtrims]{memoir}

\title{Portraits}
\author{Christopher Adams}

%%%
% Packages
%%%
\usepackage{xfp}
\usepackage{graphicx}
\usepackage[export]{adjustbox}
\usepackage[hidelinks]{hyperref}
\usepackage[sfdefault]{carlito}

%%%
% Hyperref
%%%
\hypersetup{
  pdfauthor=\theauthor,
  pdftitle=\thetitle,
  pdfsubject=Portfolio,
  pdfkeywords=photography,
  pdfstartview=FitH,
  pdfpagelayout=TwoPageRight
}

%%%
% The Page
%%%

\setlrmarginsandblock{0.1\stockwidth}{*}{1}
\setulmarginsandblock{0.0833\stockwidth}{*}{1}

\checkandfixthelayout
\checkthelayout
\fixthelayout

\showtrimsoff

%%%
% Pagination
%%%

\aliaspagestyle{part}{empty}

%%%
% Captions
%%%

\captiontitlefont{\itshape}
\captionstyle{\raggedright}

%%%
% Commands
%%%

\newcommand{\photograph}[2]{
  \photoblock{#1}{#2}{0}{0}
}

\newcommand{\landtoport}[4]{
  \photoblock{#1}{#2}{\fpeval{#3 * 0.5558}}{\fpeval{1 -  0.4442 - (#3 * 0.5558)}}
}

\newcommand{\photoblock}[4]{
  \def\lefttrim{#3}
  \def\righttrim{#4}

  \begin{figure}[t]
    \begin{minipage}[c][\textheight][c]{\textwidth}
      \vfill
      \adjincludegraphics[width=\textwidth, trim={{\lefttrim\width} 0 {\righttrim\width} 0},clip]{assets/img/#2}
      \vfill
      \legend{#1}
    \end{minipage}
  \end{figure}
  \clearpage
}

\begin{document}

\pagestyle{empty}

\frontmatter

\clearpage\maketitle
\thispagestyle{empty}

\mainmatter

\part{}

\photograph{Item Idem, Taipei, 2019}{49125980717_1c7d6c0928_k}

\landtoport{Su Misu, Taipei, 2019}{46278755204_05291da689_k}{0.5}

\photograph{Su Misu, Taipei, 2019}{46278755204_05291da689_k}

\end{document}